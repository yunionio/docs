---
title: "用户"
weight: 5
description: 用户是资源的管理者和直接使用者。
---

用户是资源的直接使用者。当用户以角色身份加入项目后，用户则拥有项目中的资源使用权。根据角色权限的不同，用户对平台资源的管理权限也不同。

![](../../../images/system/user-project-resource.png)

**用户来源**：

- 同步LDAP认证源以及启用“自动创建用户”的认证源上的用户。
- 系统部署完成后默认创建管理员用户，该用户以admin角色加入system项目，是系统的超级管理员，拥有管理后台权限。系统部署完成后，用户可使用该角色登录云管平台进行配置操作。
- 创建本地用户。

**入口**：在云管平台单击左上角![](../../../images/intro/nav.png)导航菜单，在弹出的左侧菜单栏中单击 **_"认证与安全/认证体系/用户"_** 菜单项，进入用户页面。

![](../../../images/iam/user.png)

## 新建用户

该功能用于创建用户。

{{% alert title="注意" color="warning" %}}
- 未开启三级权限时，可以在任意域下创建用户，但是用户只能加入Default域下的项目。
- 开启三级权限后，在管理后台下用户可以加入到任意域下的项目。
{{% /alert %}}

1. 在用户页面，单击列表上方 **_"新建"_** 按钮，进入新建用户页面。
2. 配置以下参数。
   - 名称：用户的名称。
   - 密码：用户的密码。
   - 域：选择用户所属的域。
   - 显示名：用户的显示名。
   - 登录控制台：设置用户是否有登录云管平台的权限。
   - 启用MFA：Multi-Factor Authentication，基于TOTP技术的多因素认证，用户需要通过两种的认证方式才能登录{{<oem_name>}}平台。即除了使用用户名、密码外还需要使用MFA安全码验证登录。请确保全局配置中已启用了双因子认证，否则无法在用户处启用MFA。
3. 单击 **_"确定"_** 按钮，进入将用户加入项目(可选)页面。
4. 若需要加入项目，则配置下面参数，配置完成后，单击 **_"加入"_** 按钮，将用户加入项目。
   - 项目（可选）：选择用户需要加入的域和项目。
   - 角色（可选）：设置用户加入项目时的角色，不同角色具有不同权限。
5. 如不需要加入项目，则直接单击 **_"跳过"_** 按钮即可。

## 导入用户

该功能用于批量导入本地用户。用户需要提前准备包含用户信息的Excel文件。

{{% alert title="注意" color="warning" %}}
- 用户模板文件中密码选填，当模板文件中未设置密码时，通过模板导入创建的用户可在{{<oem_name>}}平台登录页面，密码输入任意值都可以成功登录，请登录后请尽快修改密码。
- 用户名重复会导致导入失败。
{{% /alert %}}

1. 在用户页面，单击列表上方 **_"导入用户"_** 按钮，弹出导入用户对话框。
2. 导入用户信息需要按照预先设定的格式，请先下载模板，并在下载的user_template.xlsx文件中补充用户信息，所有用户信息都需要补充在一个sheet页。
    ![](../../../images/system/importuser.png) 

3. 将包含用户信息的Excel文件拖拽到虚线框或单击 **_"点击上传"_** 按钮，上传文件，批量导入本地sql用户。

## 修改属性

该功能用于修改用户属性。

{{% alert title="说明" %}}
当全局配置中启用MFA后，用户启用MFA配置才会生效，否则配置后也不会生效。
{{% /alert %}}

**单个用户修改属性**

1. 在用户页面，单击用户右侧操作列 **_"修改属性"_** 按钮，弹性修改属性对话框。
2. 配置以下参数：
    - 显示名：用户的显示名。
    - 登录控制台：设置用户是否有登录云管平台的权限。
    - 启用MFA：Multi-Factor Authentication，基于TOTP技术的多因素认证，用户需要通过两种的认证方式才能登录{{<oem_name>}}平台。即除了使用用户名、密码外还需要使用MFA安全码验证登录。请确保全局配置中已启用了双因子认证，否则无法在用户处启用MFA。
3. 单击 **_"确定"_** 按钮。

**批量修改属性**

1. 在用户列表中勾选一个或多个用户，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"修改属性"_** 菜单项，弹出修改属性对话框。
2. 选择是否启用登录控制台以及启用MFA，单击 **_"确定"_** 按钮。

## 启用

该功能用于启用"禁用"状态的用户。

**单个启用**

1. 在用户页面，单击用户右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"启用"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，启用"禁用"状态的用户。
3. 启用状态的用户可正常登录使用云管平台。

**批量启用**

1. 在用户列表中勾选一个或多个"禁用"状态的用户，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"启用"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，批量启用"禁用"状态的用户。
3. 启用状态的用户可正常登录使用云管平台。

## 禁用

该功能用于禁用”启用“状态的用户，禁用状态的用户无法成功登录管理平台，若在用户已登录云管平台的时候禁用用户，无法强退用户，用户退出后下次登录将会失败。

**单个禁用**

1. 在用户页面，单击用户右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"禁用"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，禁用用户。
3. "禁用"状态的用户禁止登录云管平台。

**批量禁用**

1. 在用户列表中勾选一个或多个”启用“状态的用户，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"禁用"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，禁用用户。
3. "禁用"状态的用户禁止使用云管平台。

## 重置密码

仅支持重置sql认证源用户的密码。

1. 在用户页面，单击需要修改密码的用户右侧操作列 **_"修改密码"_** 按钮，弹出重置用户密码对话框。
2. 输入密码，单击 **_"确定"_** 按钮。

## 管理项目

该功能用于管理用户加入的项目，支持加入移除项目以及修改用户在项目中的角色等。

### 加入项目

该功能用于将用户批量加入项目。

{{% alert title="注意" color="warning" %}}
- 未开启三级权限时，用户只能加入Default域下的项目。
- 开启三级权限后，在管理后台下用户可以加入到任意域下的项目。
{{% /alert %}}

1. 在用户页面，单击用户右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"管理项目"_** 菜单项，进入详情-已加入项目页面。
2. 单击列表上方 **_"加入项目"_** 按钮，弹出加入项目对话框。
3. 选择域、项目、角色，单击 **_"确定"_** 按钮，将用户以指定角色加入项目。

### 修改角色

该功能用于修改用户在项目中的角色。

{{% alert title="注意" color="warning" %}}
通过组加入的项目不支持修改角色。
{{% /alert %}}

1. 在用户页面，单击用户右侧操作列 **_"管理项目"_** 按钮，进入详情-管理项目页面。
2. 单击所属项目右侧操作列 **_"修改角色"_** 按钮，弹出修改角色对话框。
3. 修改角色后，单击 **_"确定"_** 按钮，完成操作。

### 移除项目

该功能用于将用户移出项目。

{{% alert title="注意" color="warning" %}}
通过组加入的项目不支持移出项目。
{{% /alert %}}

**单个移除**

1. 在用户页面，单击用户右侧操作列 **_"管理项目"_** 按钮，进入详情-管理项目页面。
2. 单击所属项目右侧操作列 **_"移除"_** 按钮，弹出操作确认对话框。
3. 单击 **_"确定"_** 按钮，将用户移出项目。

**批量移除**

1. 在用户页面，单击用户右侧操作列 **_"管理项目"_** 按钮，进入详情-管理项目页面。
2. 在列表中选择一个或多个所属项目，单击列表上方 **_"移除"_** 按钮，弹出操作确认对话框。
3. 单击 **_"确定"_** 按钮，将用户移出项目。

## 删除

该功能用于删除用户。

**单个删除**

1. 在用户页面，单击用户右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"删除"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

**批量删除**

1. 在用户列表中勾选一个或多个用户，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"删除"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

## 查看用户详情

该功能用于查看用户所属项目、直属项目以及所属组信息。

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 详情页面顶部菜单项支持对用户进行管理操作。
3. 查看以下信息：
    - 基本信息：包括云上ID、ID、名称、状态、域、项目、启用状态、控制台登录、MFA、标签、所属分组数量、所属项目数量、认证源、创建时间、更新时间、备注。
    - 其他信息：包括最后登录IP地址、最后访问方式、最后登录时间、密码过期时间。
{{% alert title="说明" %}}
通过LDAP认证源获取的用户会将用户的标签自动同步下来。
{{% /alert %}}
## 已加入组管理

该功能用于管理用户已加入的组，支持加入和退出组。

### 加入组

该功能用于将用户加入组。

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“已加入组”页签，进入已加入组页面。
3. 单击列表上方 **_"加入组"_** 按钮，弹出加入组对话框。
4. 单击 **_"确定"_** 按钮，将用户加入组。

### 退出组

该功能用于将用户退出组。

**单个退出**

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“已加入组”页签，进入已加入组页面。
3. 单击组右侧操作列 **_"退出组"_** 按钮，弹出操作确认对话框。
4. 单击 **_"确定"_** 按钮，完成操作。

**批量退出**

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“已加入组”页签，进入已加入组页面。
3. 在列表中勾选一个或多个组，单击列表上方 **_"退出组"_** 按钮，弹出操作确认对话框。
4. 单击 **_"确定"_** 按钮，完成操作。

## 云用户管理

云用户即公有云平台上的用户。该功能用于管理本地用户关联的云用户信息。

### 新建云用户

该功能用于为本地用户在任意公有云平台上创建云用户。创建成功后，本地用户可以在用户信息处的多云统一登录查看关联的云用户信息，并支持便捷的使用云用户登录公有云平台。只有本地用户加入项目后，才支持新建云用户。

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“云用户”页签，进入云用户页面。
3. 单击列表上方 **_"新建云用户"_** 按钮，弹出新建云用户对话框。
4. 设置以下信息：
   - 项目：选择用户已加入的项目，后续将根据项目所在域，过滤可选云账号。
   - 云账号：选择对应平台（不支持天翼云和UCloud），并通过平台过滤可选云账号。
{{% alert title="说明" %}}
**管理后台**

- 当云账号共享范围是私有或共享云订阅时，仅可以选择本域的云账号。
- 当云账号共享范围是全局共享时，可以选择任意域的云账号。

**域管理后台**

- 无论云账号共享范围如何，仅可以选择加入本域下的云账号。
{{% /alert %}}

   - 云订阅：仅谷歌云需要设置该参数，谷歌云的订阅对应谷歌云的项目。指定云订阅即为指定的谷歌云账号添加对应项目。
   - 用户名：设置云用户的名称，将会使用该名称在对应公有云平台（除谷歌云外）创建用户。谷歌云必须填入已存在的账号。
{{% alert title="说明" %}}
对于谷歌云来说，新建云用户操作即将谷歌云的已有账号与平台对接的谷歌云账号通过项目关联起来。
{{% /alert %}}
   - 云用户组：将云用户加入云用户组，云用户将拥有该云用户组的所有权限。
   - 邮箱：配置接收创建云用户信息的邮箱。当勾选“发送创建云用户邮件时”，将会发送创建信息到该邮箱。
{{% alert title="说明" %}}
请确保已经在通知渠道中配置了邮箱服务。
{{% /alert %}}
5. 单击 **_"确定"_** 按钮，完成操作。

### 删除云用户

该功能用于删除云用户，删除操作将会在对应公有云平台上删除对应用户。

**单个删除**

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“云用户”页签，进入云用户页面。
3. 单击云用户右侧操作列 **_"删除"_** 按钮，弹出操作确认对话框。
4. 单击 **_"确定"_** 按钮，完成操作。

**批量删除**

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“云用户”页签，进入云用户页面。
3. 在列表中选择一个或多个云用户，单击列表上方 **_"删除"_** 按钮，弹出操作确认对话框。
4. 单击 **_"确定"_** 按钮，完成操作。

### 查看云用户详情

该功能用于查看云用户详细信息。

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“云用户”页签，进入云用户页面。
3. 单击云用户名称项，进入云用户详情页面。
4. 查看以下信息：包括云上ID、ID、名称、状态、域、项目、平台、登录地址、关联本地用户、控制台登录、创建时间、更新时间、备注。

### 查看云用户关联的云用户组

该功能用于查看云用户关联的云用户组，支持将云用户从云用户组移除操作。

#### 移除云用户组

该功能用于将云用户从云用户组移除，删除后云用户将不再具有云用户组中的权限。

**单个移除**

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“云用户”页签，进入云用户页面。
3. 单击云用户名称项，进入云用户详情页面。
4. 单击“云用户组”页签，进入云用户组页面。
5. 单击云用户组右侧操作列 **_"删除"_** 按钮，弹出操作确认对话框。
6. 单击 **_"确定"_** 按钮，完成操作。
   
**批量移除**

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“云用户”页签，进入云用户页面。
3. 单击云用户名称项，进入云用户详情页面。
4. 单击“云用户组”页签，进入云用户组页面。
5. 在列表中选择一个或多个云用户组，单击列表上方 **_"删除"_** 按钮，弹出操作确认对话框。
6. 单击 **_"确定"_** 按钮，完成操作。

### 查看云用户的操作日志

该功能用于查看云用户相关操作的操作日志。

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“云用户”页签，进入云用户页面。
3. 单击云用户名称项，进入云用户详情页面。
4. 单击“操作日志”页签，进入操作日志页面。
    - 加载更多日志：列表默认显示20条操作日志信息，如需查看更多操作日志，请单击 **_"加载更多"_** 按钮，获取更多日志信息。
    - 查看日志详情：单击操作日志右侧操作列 **_"查看"_** 按钮，查看日志的详情信息。支持复制详情内容。
    - 查看指定时间段的日志：如需查看某个时间段的操作日志，在列表右上方的开始日期和结束日期中设置具体的日期，查询指定时间段的日志信息。
    - 导出日志：目前仅支持导出本页显示的日志。单击右上角![](../../../images/system/download.png)图标，在弹出的导出数据对话框中，设置导出数据列，单击 **_"确定"_** 按钮，导出日志。

## 免密登录用户管理

该功能用于管理可以用户可以免密登录的公有云平台。

### 新建免密登录用户

该功能用于将系统内的本地用户设置为公有云平台的免密登录用户。

1. 在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。
2. 单击“免密登录用户”页签，进入免密登录用户页面。
3. 单击 **_"新建"_** 按钮，弹出新建免密登录用户。
4. 配置以下信息：
    - 关联本地用户：当前用户即为关联的本地用户。
    - 项目：选择用户已加入的项目，后续将根据项目所在域，过滤可选云账号。
    - 云账号：选择对应平台以及云账号。目前仅支持腾讯云平台。
    - 云用户组：选择用户加入的云用户组，后续用户登录时将按照云用户组上的权限免密登录公有云平台。
6. 单击<确定>按钮，完成操作。

### 删除免密登录用户

该功能用于删除免密登录用户，删除后，系统内用户将无法再免密登录到公有云。

**删除免密登录用户**

1. 在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。
2. 单击“免密登录用户”页签，进入免密登录用户页面。
3. 单击用户右侧操作列 **_"删除"_** 按钮，弹出操作确认对话框。
4. 单击 **_"确定"_** 按钮，完成操作。

**批量删除免密登录用户**

1. 在云账号页面，单击公有云平台云账号名称项，进入云账号详情页面。
2. 单击“免密登录用户”页签，进入免密登录用户页面。
3. 在列表中选择一个或多个用户，单击 **_"删除"_** 按钮，弹出操作确认对话框。
4. 单击 **_"确定"_** 按钮，完成操作。


## 查看操作日志

该功能用于查看用户相关操作的日志信息。

1. 在用户页面，单击用户名称项，进入用户详情页面。
2. 单击“操作日志”页签，进入操作日志页面。
    - 加载更多日志：列表默认显示20条操作日志信息，如需查看更多操作日志，请单击 **_"加载更多"_** 按钮，获取更多日志信息。
    - 查看日志详情：单击操作日志右侧操作列 **_"查看"_** 按钮，查看日志的详情信息。支持复制详情内容。
    - 查看指定时间段的日志：如需查看某个时间段的操作日志，在列表右上方的开始日期和结束日期中设置具体的日期，查询指定时间段的日志信息。
    - 导出日志：目前仅支持导出本页显示的日志。单击右上角![](../../../images/system/download.png)图标，在弹出的导出数据对话框中，设置导出数据列，单击 **_"确定"_** 按钮，导出日志。
