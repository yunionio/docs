---
title: "虚拟机生命周期管理"
date: 2019-07-19T17:38:36+08:00
weight: 3
---

## 界面操作

### 开机
该功能用于将处于关机状态的虚拟机开机。批量开机操作支持选择不同平台上“关机”状态的虚拟机。

**单个虚拟机开机**

虚拟机把同步状态按钮归类到实例状态中1. 在虚拟机页面，单击“关机”状态的虚拟机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"实例状态-开机"_** 菜单项，启动虚拟机。

**批量开机**

1. 在虚拟机列表中选择一个或多个“关机”状态的虚拟机，单击列表上方 **_"开机"_** 按钮，批量启动多个虚拟机。

### 关机
该功能用于将处于运行中状态的虚拟机关机。批量关机操作支持选择不同平台上“运行中”状态的虚拟机。

{{% alert title="注意" color="warning" %}}
目前仅阿里云、腾讯云按量付费的虚拟机支持关机不收费。

- 关机后，将释放CPU、内存，并停止对CPU、内存的计费，所关联硬盘、镜像、公网带宽(如需计费)依然计费
- 关机后，实例的 CPU 、内存将不再保留，所以再次启动实例时可能会失败。此时，您可以尝试再次启动，或者换一个时间再次启动
- 关机后，普通公网 IP 将被释放不可找回，建议您先转换为弹性公网 IP 后再进行关机操作
- 关机后，弹性公网 IP 将被保留，不会被释放，关机期间也不收取费用
- 关机期间实例较多操作（如调整配置、重装系统等）可能无法支持，如需操作请开机后进行
- 部分不支持关机不收费的实例，关机后继续正常收费
{{% /alert %}}

**单个虚拟机关机**

1. 在虚拟机页面，单击“运行中”状态的虚拟机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"实例状态-关机"_** 菜单项，弹出操作确认对话框。
2. 当虚拟机是阿里云或腾讯云平台上按量付费的虚拟机时，可以选择勾选“关机不收费”。
3. 单击 **_"确定"_** 按钮，完成操作。

**批量关机**

1. 在虚拟机列表中选择一个或多个“运行中”状态的虚拟机，单击列表上方 **_"关机"_** 按钮，弹出操作确认对话框。
2. 当被选择的虚拟机是阿里云或腾讯云平台上按量付费的虚拟机时，可以选择勾选“关机不收费”。
3. 单击 **_"确定"_** 按钮，完成操作。 

### 重启
该功能用于将处于运行中状态的虚拟机重启，重启过程中VNC连接会中断。批量重启操作支持选择不同平台上“运行中”状态的虚拟机。

**单个虚拟机重启**

1. 在虚拟机页面，单击“运行中”状态的虚拟机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"实例状态-重启"_** 菜单项，弹出操作确认对话框。
2. 选择是否勾选强制重启，单击 **_"确定"_** 按钮。

**批量重启**

1. 在虚拟机列表中选择一个或多个“运行中”状态的虚拟机，单击列表上方 **_"重启"_** 按钮，弹出操作确认对话框。
2. 选择是否勾选强制重启，单击 **_"确定"_** 按钮。

{{% alert title="注意" color="warning" %}}
若勾选“强制重启”，虚拟机中未保存数据将会丢失。
{{% /alert %}}


### 重置

该功能用于将运行中状态的虚拟机重启，重启过程中VNC连接不会中断。仅支持{{<oem_name>}}平台上的虚拟机。

1. 在虚拟机页面，单击“运行中”状态的虚拟机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"实例状态-重置"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

### 挂起

该功能用于将运行中状态的虚拟机进入休眠状态，挂起状态下虚拟机会保存当前状态，服务将处于暂停状态而不会结束，可通过恢复功能快速恢复状态。

目前仅VMware虚拟机支持挂起/恢复操作。

**单个虚拟机挂起**

1. 在虚拟机页面，单击“运行中”状态的虚拟机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"实例状态-挂起"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

**批量挂起**

1. 在虚拟机列表中选择一个或多个“运行中”状态的虚拟机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"挂起"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

### 恢复

该功能用于将挂起状态的虚拟机恢复成运行状态。

目前仅VMware虚拟机支持挂起/恢复操作。

**单个虚拟机恢复**

1. 在虚拟机页面，单击“挂起”状态的虚拟机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"实例状态-恢复"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

**批量恢复**

1. 在虚拟机列表中选择一个或多个“运行中”状态的虚拟机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"恢复"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

### 同步状态

当虚拟机被恶意破坏或经非法暴力操作，导致服务状态异常（如系统死机），需要管理员后台修复，同步虚拟机环境状态，提供系统级服务修复措施。或者在资源超配情况下，同步运行状态。批量同步状态操作支持选择不同平台上的虚拟机。

**单个同步状态**

1. 在虚拟机页面，单击虚拟机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"实例状态-同步状态"_** 菜单项，同步虚拟机状态。

**批量同步状态**

1. 在虚拟机列表中选择一个或多个虚拟机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"同步状态"_** 菜单项，同步虚拟机状态。

## Climc


```bash
# 开机
$ climc server-start <server_id>

# 关机
$ climc server-stop <server_id>

# 强制关机
$ climc server-stop --is-force <server_id>

# 重启
$ climc server-restart <server_id>
```
