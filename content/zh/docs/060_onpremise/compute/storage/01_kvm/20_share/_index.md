---
title: "共享存储"
date: 2021-06-25T10:53:20+08:00
weight: 20
description: >
  KVM虚拟机使用的共享块存储
---

共享存储的虚拟机磁盘存储在网络上，实现了存储和计算的分离。使用共享存储的优点是虚拟机迁移比较方便，缺点是技术复杂，在相同硬件条件下，访问共享存储的延时和带宽性能都比本地存储差。

共享存储分为两大类

- 共享文件存储，虚拟磁盘还是以文件形式存储在磁盘上，只是存储文件的是一个网络共享的目录。平台提供了两种有代表性的为共享文件存储，一种是NFS，另外一种是GPFS。如果选择NFS，宿主机会自动地把NFS服务器的目录挂载到宿主机上。如果选择了GFPS，则宿主机不负责共享存储目录的挂载，需要管理员提前将共享目录挂载到指定目录，并且在平台配置在各个宿主机上该存储的挂载点。因此第二种方式比较灵活，只要是一个网络共享的目录挂载到宿主机上就能够使用，跟共享的协议没有关系。因此，无论是GPFS，OCFS2，GFS，还是GlusterFS，都可以采用这种方式。

- 分布式存储，虚拟磁盘是存储在一个分部是存储里的。目前只支持ceph的rbd存储。


