---
title: "物理机其它操作"
date: 2019-07-19T20:25:05+08:00
weight: 10
---

## 界面操作

### 远程终端

该功能支持使用SOL（Serial over LAN）和ssh远程连接到物理机。SOL即通过串口进行远程连接。连接之后需要使用初始账号列中的用户名和密码进行登录。

1. 在物理机页面，单击物理机右侧操作列 **_"远程终端"_** 按钮，选择下拉菜单 **_"SOL远程终端"_** 菜单项，通过SOL方式远程连接物理机。
2. 单击物理机右侧操作列 **_"远程终端"_** 按钮，选择下拉菜单 **_"SSH IP地址"_** 菜单项，与物理机建立web SSH连接。
3. 若物理机上的22端口被其他应用占用，ssh服务端口为其他端口时，可选择下拉菜单 **_"SSH IP地址:自定义端口"_** 菜单项，在弹出的对话框框中设置端口号，单击 **_"确定"_** 按钮与物理机建立web SSH连接。
4. 单击物理机右侧操作列 **_"远程终端"_** 按钮，选择下拉菜单 **_"Java控制台"_** 菜单项，下载并打开jnlp文件，连接物理机。

### 启用

该功能用于启用"禁用"状态的物理机。启用状态的物理机用于创建裸金属服务器。

**单个启用**

1. 在物理机页面，单击"禁用"状态的物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"启用"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，启用物理机。

**批量启用

1. 在物理机列表中勾选一个或多个"禁用"状态的物理机，单击列表上方 **_"更多"_** 按钮，选择下拉菜单 **_"启用"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，启用物理机。


### 禁用

该功能用于禁用”启用“状态的物理机，禁用状态的物理机不能创建裸金属服务器。

**单个禁用**

1. 在物理机列表，单击”启用“状态的物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"禁用"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，禁用物理机。

**批量禁用**

1. 在物理机列表中勾选一个或多个"启用"状态的物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"禁用"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，禁用物理机。

### 调整调度标签

该功能用于为物理机绑定调度标签，绑定调度标签的物理机将按照调度策略调度创建裸金属服务器。

1. 在物理机页面，根据需要绑定调度标签的物理机数量，选择调整调度标签的方式。当物理机需要绑定同一个标签时，推荐使用批量为物理机调整标签功能，若需要绑定不同标签，需要分别调整的调度标签。
    - 调整调度标签：单击物理机右侧操作列 **_更多_** 按钮，选择下拉菜单 **_"调整标签"_** 菜单项，在弹出调整调度标签对话框中选择调度标签，单击 **_"确定"_** 按钮。
    - 批量为物理机调整标签：在物理机列表中勾选一个或多个物理机，单击列表上方 **_批量操作_** 按钮，选择下拉菜单 **_"调整标签"_** 菜单项，在弹出调整调度标签对话框中选择调度标签，单击 **_"确定"_** 按钮。

### 同步状态

该功能用于同步物理机操作系统的运行状态。处于关机状态的物理机不支持同步状态。

1. 在物理机页面，根据需要同步状态的物理机数量，选择同步状态的方式。
    - 同步一个物理机状态：单击物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"同步状态"_** 菜单项，同步显示物理机运行状态。
    - 批量同步物理机状态：在物理机列表中勾选一个或多个物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"同步状态"_** 菜单项，批量同步物理机状态。

### 验证IPMI信息

该功能用于验证物理机的IPMI信息配置是否正确以及是否已启用LAN上的IPMI信息。当物理机由于IPMI配置有问题而纳管失败后，用户修改IPMI配置后，可通过验证IPMI功能验证修改后的IPMI配置是否正确，正确后将会重新纳管物理机。

**验证IPMI信息**

1. 在物理机页面，单击物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"验证IPMI信息"_** 菜单项，开始验证配置的IPMI的正确性。


**批量验证IPMI信息**

1. 在物理机列表勾选一个或多个物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"验证IPMI信息"_** 菜单项，开始验证配置的IPMI的正确性。

### 检测硬件配置

该功能用于同步获取物理机的硬件配置信息等。当用户添加物理机时勾选只注册不引导后需要使用检测硬件配置功能，使物理机可以正常被使用。

**检测硬件配置**

1. 在物理机页面，单击物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"检测硬件配置"_** 菜单项，同步物理机的硬件配置信息。

**批量检测硬件配置**

1. 在物理机列表勾选一个或多个物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"检测硬件配置"_** 菜单项，同步物理机的硬件配置信息。

### 开机

该功能用于将关机状态的物理机开机。

**开机**

1. 在物理机页面，单击物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"开机"_** 菜单项，将物理机开机。

**批量开机**

1. 在物理机列表勾选一个或多个物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"开机"_** 菜单项，将物理机开机。

### 关机

该功能用于将运行状态的物理机关机，当物理机已分配给裸金属使用时，不支持关机操作。

**关机**

1. 在物理机页面，单击物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"关机"_** 菜单项，将物理机关机。

**批量关机**

1. 在物理机列表勾选一个或多个物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"关机"_** 菜单项，将物理机关机。

### 进入维护模式

该功能用于将已分配裸金属设备的物理机进入离线系统（yunionos网络启动小系统），管理员在离线系统可以进行更改分区、重做RAID、更改密码等操作。未分配的物理机默认就处于离线系统。

**进入维护模式**

1. 在物理机页面，单击物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"进入维护模式"_** 菜单项，进入维护模式。
2. 在维护模式下可以进行更改分区，重做RAID等操作。

**批量进入维护模式**

1. 在物理机列表中勾选一个或多个物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"进入维护模式"_** 菜单项，进入维护模式。
2. 在维护模式下可以进行更改分区，重做RAID等操作。

### 退出维护模式

该功能用于退出维护模式。

**退出维护模式**

1. 在物理机页面，单击物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"退出维护模式"_** 菜单项，退出维护模式。

**批量退出维护模式**

1. 在物理机列表中勾选一个或多个物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"退出维护模式"_** 菜单项，退出维护模式。

### 删除

该功能用于删除物理机，未分配给裸金属设备且禁用状态的物理机才可以删除。

**单个删除**

1. 在物理机页面，单击物理机右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"删除"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

**批量删除**

1. 在物理机列表中勾选一个或多个物理机，单击列表上方 **_"批量操作"_** 按钮，选择下拉菜单 **_"删除"_** 菜单项，弹出操作确认对话框。
2. 单击 **_"确定"_** 按钮，完成操作。

## Climc

### 查询物理机

```bash
# list baremetal 记录
climc host-list --baremetal true

# list 已经安装系统的物理机
climc host-list --baremetal true --occupied

# list 未安装系统的物理机
climc host-list --baremetal true --empty

# 查询物理机详情，包括硬件信息，机房信息
climc host-show <host_id>
```

### 注册物理机

```bash
climc host-create <host_id>
```

### 重新准备物理机

```bash
climc host-prepare <host_id>
```

### 获取物理机登录信息

```bash
climc host-logininfo <host_id>
```

### 获取串口登录控制台

```bash
climc webconsole-baremetal <host_id>
```

### 开/关机

```bash
climc host-start/host-stop <host_id>
```

### 进入/退出维护模式

```bash
climc host-maintenance/host-unmaintenance <host_id>
```

### 删除物理机

```bash
climc host-delete <host_id>
```

### 转换/回收宿主机

```bash
climc host-convert-hypervisor
climc host-undo-convert <host_id>
```
